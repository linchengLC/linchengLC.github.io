<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>lin&#39;s blog</title>
    <link>https://linchengLC.github.io/</link>
    <description>Recent content on lin&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 12 Nov 2019 15:11:17 +0800</lastBuildDate>
    
        <atom:link href="https://linchengLC.github.io/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Golangçš„Channelåº•å±‚åŸç†</title>
      <link>https://linchengLC.github.io/post/golang%E7%9A%84channel%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/</link>
      <pubDate>Tue, 12 Nov 2019 15:11:17 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/post/golang%E7%9A%84channel%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86/</guid>
      
        <description>

&lt;h2 id=&#34;channelçš„æ•´ä½“ç»“æ„å›¾&#34;&gt;channelçš„æ•´ä½“ç»“æ„å›¾&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1b52ab08?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç®€å•è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;buf&lt;/code&gt;æ˜¯æœ‰ç¼“å†²çš„channelæ‰€ç‰¹æœ‰çš„ç»“æ„ï¼Œç”¨æ¥å­˜å‚¨ç¼“å­˜æ•°æ®ã€‚æ˜¯ä¸ªå¾ªç¯é“¾è¡¨&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sendx&lt;/code&gt;å’Œ&lt;code&gt;recvx&lt;/code&gt;ç”¨äºè®°å½•&lt;code&gt;buf&lt;/code&gt;è¿™ä¸ªå¾ªç¯é“¾è¡¨ä¸­çš„~å‘é€æˆ–è€…æ¥æ”¶çš„~index&lt;/li&gt;
&lt;li&gt;&lt;code&gt;lock&lt;/code&gt;æ˜¯ä¸ªäº’æ–¥é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;recvq&lt;/code&gt;å’Œ&lt;code&gt;sendq&lt;/code&gt;åˆ†åˆ«æ˜¯æ¥æ”¶(&amp;lt;-channel)æˆ–è€…å‘é€(channel &amp;lt;- xxx)çš„goroutineæŠ½è±¡å‡ºæ¥çš„ç»“æ„ä½“(sudog)çš„é˜Ÿåˆ—ã€‚æ˜¯ä¸ªåŒå‘é“¾è¡¨&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æºç ä½äº&lt;code&gt;/runtime/chan.go&lt;/code&gt;ä¸­(ç›®å‰ç‰ˆæœ¬ï¼š1.11)ã€‚ç»“æ„ä½“ä¸º&lt;code&gt;hchan&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;type hchan struct {
    qcount   uint           // total data in the queue
    dataqsiz uint           // size of the circular queue
    buf      unsafe.Pointer // points to an array of dataqsiz elements
    elemsize uint16
    closed   uint32
    elemtype *_type // element type
    sendx    uint   // send index
    recvx    uint   // receive index
    recvq    waitq  // list of recv waiters
    sendq    waitq  // list of send waiters

    // lock protects all fields in hchan, as well as several
    // fields in sudogs blocked on this channel.
    //
    // Do not change another G&#39;s status while holding this lock
    // (in particular, do not ready a G), as this can deadlock
    // with stack shrinking.
    lock mutex
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‹é¢æˆ‘ä»¬æ¥è¯¦ç»†ä»‹ç»&lt;code&gt;hchan&lt;/code&gt;ä¸­å„éƒ¨åˆ†æ˜¯å¦‚ä½•ä½¿ç”¨çš„ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å…ˆä»åˆ›å»ºå¼€å§‹&#34;&gt;å…ˆä»åˆ›å»ºå¼€å§‹&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªchannelã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ch:=make(chan int,3)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1b6f96fc?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;åˆ›å»ºchannelå®é™…ä¸Šå°±æ˜¯åœ¨å†…å­˜ä¸­å®ä¾‹åŒ–äº†ä¸€ä¸ª&lt;code&gt;hchan&lt;/code&gt;çš„ç»“æ„ä½“ï¼Œå¹¶è¿”å›ä¸€ä¸ªchæŒ‡é’ˆï¼Œæˆ‘ä»¬ä½¿ç”¨è¿‡ç¨‹ä¸­channelåœ¨å‡½æ•°ä¹‹é—´çš„ä¼ é€’éƒ½æ˜¯ç”¨çš„è¿™ä¸ªæŒ‡é’ˆï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡½æ•°ä¼ é€’ä¸­æ— éœ€ä½¿ç”¨channelçš„æŒ‡é’ˆï¼Œè€Œç›´æ¥ä½¿ç”¨channelå°±è¡Œäº†ï¼Œå› ä¸ºchannelæœ¬èº«å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚&lt;/p&gt;

&lt;h2 id=&#34;channelä¸­å‘é€send-ch-xxx-å’Œrecv-ch-æ¥æ”¶&#34;&gt;channelä¸­å‘é€send(ch &amp;lt;- xxx)å’Œrecv(&amp;lt;- ch)æ¥æ”¶&lt;/h2&gt;

&lt;p&gt;å…ˆè€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœä½ æƒ³è®©goroutineä»¥å…ˆè¿›å…ˆå‡º(FIFO)çš„æ–¹å¼è¿›å…¥ä¸€ä¸ªç»“æ„ä½“ä¸­ï¼Œä½ ä¼šæ€ä¹ˆæ“ä½œï¼Ÿ åŠ é”ï¼å¯¹çš„ï¼channelå°±æ˜¯ç”¨äº†ä¸€ä¸ªé”ã€‚hchanæœ¬èº«åŒ…å«ä¸€ä¸ªäº’æ–¥é”&lt;code&gt;mutex&lt;/code&gt;&lt;/p&gt;

&lt;h3 id=&#34;channelä¸­é˜Ÿåˆ—æ˜¯å¦‚ä½•å®ç°çš„&#34;&gt;channelä¸­é˜Ÿåˆ—æ˜¯å¦‚ä½•å®ç°çš„&lt;/h3&gt;

&lt;p&gt;channelä¸­æœ‰ä¸ªç¼“å­˜bufï¼Œæ˜¯ç”¨æ¥ç¼“å­˜æ•°æ®çš„(å‡å¦‚å®ä¾‹åŒ–äº†å¸¦ç¼“å­˜çš„channelçš„è¯)é˜Ÿåˆ—ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ˜¯å¦‚ä½•å®ç°â€œé˜Ÿåˆ—â€çš„ã€‚ è¿˜æ˜¯åˆšæ‰åˆ›å»ºçš„é‚£ä¸ªchannel&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ch:=make(chan int,3)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1cde7276?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;å½“ä½¿ç”¨&lt;code&gt;send (ch &amp;lt;- xx)&lt;/code&gt;æˆ–è€…&lt;code&gt;recv ( &amp;lt;-ch)&lt;/code&gt;çš„æ—¶å€™ï¼Œé¦–å…ˆè¦é”ä½&lt;code&gt;hchan&lt;/code&gt;è¿™ä¸ªç»“æ„ä½“ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1d501497?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åå¼€å§‹&lt;code&gt;send (ch &amp;lt;- xx)&lt;/code&gt;æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ch&amp;lt;-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;äºŒ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ch&amp;lt;-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;ch&amp;lt;-1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ—¶å€™æ»¡äº†ï¼Œé˜Ÿåˆ—å¡ä¸è¿›å»äº†ï¼ŒåŠ¨æ€å›¾è¡¨ç¤ºä¸ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1d1b2a18?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç„¶åæ˜¯å–&lt;code&gt;recv ( &amp;lt;-ch)&lt;/code&gt;çš„è¿‡ç¨‹ï¼Œæ˜¯ä¸ªé€†å‘çš„æ“ä½œï¼Œä¹Ÿæ˜¯éœ€è¦åŠ é”ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42b1d6c9e89?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;ç„¶åå¼€å§‹&lt;code&gt;recv(&amp;lt;-ch)&lt;/code&gt;æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&amp;lt;-ch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;äºŒ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&amp;lt;-ch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸‰&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;&amp;lt;-ch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å›¾ä¸ºï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c0265625b?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ³¨æ„ä»¥ä¸Šä¸¤å¹…å›¾ä¸­&lt;code&gt;buf&lt;/code&gt;å’Œ&lt;code&gt;recvx&lt;/code&gt;ä»¥åŠ&lt;code&gt;sendx&lt;/code&gt;çš„å˜åŒ–ï¼Œ&lt;code&gt;recvx&lt;/code&gt;å’Œ&lt;code&gt;sendx&lt;/code&gt;æ˜¯æ ¹æ®å¾ªç¯é“¾è¡¨&lt;code&gt;buf&lt;/code&gt;çš„å˜åŠ¨è€Œæ”¹å˜çš„ã€‚ è‡³äºä¸ºä»€ä¹ˆchannelä¼šä½¿ç”¨å¾ªç¯é“¾è¡¨ä½œä¸ºç¼“å­˜ç»“æ„ï¼Œæˆ‘ä¸ªäººè®¤ä¸ºæ˜¯åœ¨ç¼“å­˜åˆ—è¡¨åœ¨åŠ¨æ€çš„&lt;code&gt;send&lt;/code&gt;å’Œ&lt;code&gt;recv&lt;/code&gt;è¿‡ç¨‹ä¸­ï¼Œå®šä½å½“å‰&lt;code&gt;send&lt;/code&gt;æˆ–è€…&lt;code&gt;recvx&lt;/code&gt;çš„ä½ç½®ã€é€‰æ‹©&lt;code&gt;send&lt;/code&gt;çš„å’Œ&lt;code&gt;recvx&lt;/code&gt;çš„ä½ç½®æ¯”è¾ƒæ–¹ä¾¿å§ï¼Œåªè¦é¡ºç€é“¾è¡¨é¡ºåºä¸€ç›´æ—‹è½¬æ“ä½œå°±å¥½ã€‚&lt;/p&gt;

&lt;p&gt;ç¼“å­˜ä¸­æŒ‰é“¾è¡¨é¡ºåºå­˜æ”¾ï¼Œå–æ•°æ®çš„æ—¶å€™æŒ‰é“¾è¡¨é¡ºåºè¯»å–ï¼Œç¬¦åˆFIFOçš„åŸåˆ™ã€‚&lt;/p&gt;

&lt;h3 id=&#34;send-recvçš„ç»†åŒ–æ“ä½œ&#34;&gt;send/recvçš„ç»†åŒ–æ“ä½œ&lt;/h3&gt;

&lt;p&gt;æ³¨æ„ï¼šç¼“å­˜é“¾è¡¨ä¸­ä»¥ä¸Šæ¯ä¸€æ­¥çš„æ“ä½œï¼Œéƒ½æ˜¯éœ€è¦åŠ é”æ“ä½œçš„ï¼&lt;/p&gt;

&lt;p&gt;æ¯ä¸€æ­¥çš„æ“ä½œçš„ç»†èŠ‚å¯ä»¥ç»†åŒ–ä¸ºï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ï¼ŒåŠ é”&lt;/li&gt;
&lt;li&gt;ç¬¬äºŒï¼ŒæŠŠæ•°æ®ä»goroutineä¸­copyåˆ°â€é˜Ÿåˆ—â€œä¸­ï¼ˆæˆ–è€…ä»é˜Ÿåˆ—ä¸­copyåˆ°goroutineä¸­ï¼‰&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ï¼Œé‡Šæ”¾é”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¯ä¸€æ­¥çš„æ“ä½œæ€»ç»“ä¸ºåŠ¨æ€å›¾ä¸ºï¼šï¼ˆå‘é€è¿‡ç¨‹ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c18219683?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æˆ–è€…ä¸ºï¼šï¼ˆæ¥æ”¶è¿‡ç¨‹ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c1e49b4ab?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ä¸éš¾çœ‹å‡ºï¼ŒGoä¸­é‚£å¥ç»å…¸çš„è¯ï¼š&lt;code&gt;Do not communicate by sharing memory; instead, share memory by communicating.&lt;/code&gt;çš„å…·ä½“å®ç°å°±æ˜¯åˆ©ç”¨channelæŠŠæ•°æ®ä»ä¸€ç«¯copyåˆ°äº†å¦ä¸€ç«¯ï¼ è¿˜çœŸæ˜¯ç¬¦åˆ&lt;code&gt;channel&lt;/code&gt;çš„è‹±æ–‡å«ä¹‰ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c4eff6a3f?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;å½“channelç¼“å­˜æ»¡äº†ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆ-è¿™å…¶ä¸­çš„åŸç†æ˜¯æ€æ ·çš„&#34;&gt;å½“channelç¼“å­˜æ»¡äº†ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿè¿™å…¶ä¸­çš„åŸç†æ˜¯æ€æ ·çš„ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œå½“channelç¼“å­˜æ»¡äº†ï¼Œæˆ–è€…æ²¡æœ‰ç¼“å­˜çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç»§ç»­send(ch &amp;lt;- xxx)æˆ–è€…recv(&amp;lt;- ch)ä¼šé˜»å¡å½“å‰goroutineï¼Œä½†æ˜¯ï¼Œæ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬çŸ¥é“ï¼ŒGoçš„goroutineæ˜¯ç”¨æˆ·æ€çš„çº¿ç¨‹(&lt;code&gt;user-space threads&lt;/code&gt;)ï¼Œç”¨æˆ·æ€çš„çº¿ç¨‹æ˜¯éœ€è¦è‡ªå·±å»è°ƒåº¦çš„ï¼ŒGoæœ‰è¿è¡Œæ—¶çš„schedulerå»å¸®æˆ‘ä»¬å®Œæˆè°ƒåº¦è¿™ä»¶äº‹æƒ…ã€‚å…³äºGoçš„è°ƒåº¦æ¨¡å‹GMPæ¨¡å‹æˆ‘åœ¨æ­¤ä¸åšèµ˜è¿°ï¼Œå¦‚æœä¸äº†è§£ï¼Œå¯ä»¥çœ‹æˆ‘å¦ä¸€ç¯‡æ–‡ç« (&lt;a href=&#34;https://i6448038.github.io/2017/12/04/golang-concurrency-principle/&#34;&gt;Goè°ƒåº¦åŸç†&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;goroutineçš„é˜»å¡æ“ä½œï¼Œå®é™…ä¸Šæ˜¯è°ƒç”¨&lt;code&gt;send (ch &amp;lt;- xx)&lt;/code&gt;æˆ–è€…&lt;code&gt;recv ( &amp;lt;-ch)&lt;/code&gt;çš„æ—¶å€™ä¸»åŠ¨è§¦å‘çš„ï¼Œå…·ä½“è¯·çœ‹ä»¥ä¸‹å†…å®¹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;//goroutine1 ä¸­ï¼Œè®°åšG1

ch := make(chan int, 3)

ch &amp;lt;- 1
ch &amp;lt;- 1
ch &amp;lt;- 1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c655f26fa?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c7e0fa6b0?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ—¶å€™G1æ­£åœ¨æ­£å¸¸è¿è¡Œ,å½“å†æ¬¡è¿›è¡Œsendæ“ä½œ(ch&amp;lt;-1)çš„æ—¶å€™ï¼Œä¼šä¸»åŠ¨è°ƒç”¨Goçš„è°ƒåº¦å™¨,è®©G1ç­‰å¾…ï¼Œå¹¶ä»è®©å‡ºMï¼Œè®©å…¶ä»–Gå»ä½¿ç”¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42cdb898891?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;åŒæ—¶G1ä¹Ÿä¼šè¢«æŠ½è±¡æˆå«æœ‰G1æŒ‡é’ˆå’Œsendå…ƒç´ çš„&lt;code&gt;sudog&lt;/code&gt;ç»“æ„ä½“ä¿å­˜åˆ°hchançš„&lt;code&gt;sendq&lt;/code&gt;ä¸­ç­‰å¾…è¢«å”¤é†’ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42c806cd876?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;é‚£ä¹ˆï¼ŒG1ä»€ä¹ˆæ—¶å€™è¢«å”¤é†’å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™G2éš†é‡ç™»åœºã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42cf9b7a64b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;G2æ‰§è¡Œäº†recvæ“ä½œ&lt;code&gt;p := &amp;lt;-ch&lt;/code&gt;ï¼Œäºæ˜¯ä¼šå‘ç”Ÿä»¥ä¸‹çš„æ“ä½œï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42d08bb757a?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;G2ä»ç¼“å­˜é˜Ÿåˆ—ä¸­å–å‡ºæ•°æ®ï¼Œchannelä¼šå°†ç­‰å¾…é˜Ÿåˆ—ä¸­çš„G1æ¨å‡ºï¼Œå°†G1å½“æ—¶sendçš„æ•°æ®æ¨åˆ°ç¼“å­˜ä¸­ï¼Œç„¶åè°ƒç”¨Goçš„schedulerï¼Œå”¤é†’G1ï¼Œå¹¶æŠŠG1æ”¾åˆ°å¯è¿è¡Œçš„Goroutineé˜Ÿåˆ—ä¸­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42d0cad71b9?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;h3 id=&#34;å‡å¦‚æ˜¯å…ˆè¿›è¡Œæ‰§è¡Œrecvæ“ä½œçš„g2ä¼šæ€ä¹ˆæ ·&#34;&gt;å‡å¦‚æ˜¯å…ˆè¿›è¡Œæ‰§è¡Œrecvæ“ä½œçš„G2ä¼šæ€ä¹ˆæ ·ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;ä½ å¯èƒ½ä¼šé¡ºç€ä»¥ä¸Šçš„æ€è·¯åæ¨ã€‚é¦–å…ˆï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42d3ba03093?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;è¿™ä¸ªæ—¶å€™G2ä¼šä¸»åŠ¨è°ƒç”¨Goçš„è°ƒåº¦å™¨,è®©G2ç­‰å¾…ï¼Œå¹¶ä»è®©å‡ºMï¼Œè®©å…¶ä»–Gå»ä½¿ç”¨ã€‚ G2è¿˜ä¼šè¢«æŠ½è±¡æˆå«æœ‰G2æŒ‡é’ˆå’Œrecvç©ºå…ƒç´ çš„&lt;code&gt;sudog&lt;/code&gt;ç»“æ„ä½“ä¿å­˜åˆ°hchançš„&lt;code&gt;recvq&lt;/code&gt;ä¸­ç­‰å¾…è¢«å”¤é†’&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42d58ad1148?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;æ­¤æ—¶æ°å¥½æœ‰ä¸ªgoroutine G1å¼€å§‹å‘channelä¸­æ¨é€æ•°æ® &lt;code&gt;ch &amp;lt;- 1&lt;/code&gt;ã€‚ æ­¤æ—¶ï¼Œéå¸¸æœ‰æ„æ€çš„äº‹æƒ…å‘ç”Ÿäº†ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42ddfc04314?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;

&lt;p&gt;G1å¹¶æ²¡æœ‰é”ä½channelï¼Œç„¶åå°†æ•°æ®æ”¾åˆ°ç¼“å­˜ä¸­ï¼Œè€Œæ˜¯ç›´æ¥æŠŠæ•°æ®ä»G1ç›´æ¥copyåˆ°äº†G2çš„æ ˆä¸­ã€‚ è¿™ç§æ–¹å¼éå¸¸çš„èµï¼åœ¨å”¤é†’è¿‡ç¨‹ä¸­ï¼ŒG2æ— éœ€å†è·å¾—channelçš„é”ï¼Œç„¶åä»ç¼“å­˜ä¸­å–æ•°æ®ã€‚å‡å°‘äº†å†…å­˜çš„copyï¼Œæé«˜äº†æ•ˆç‡ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹åçš„äº‹æƒ…æ˜¾è€Œæ˜“è§ï¼š&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://user-gold-cdn.xitu.io/2019/4/14/16a1c42e5df40117?imageslim&#34; alt=&#34;img&#34; /&gt;&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title>ä¸ºä»€ä¹ˆä½¿ç”¨sync.pool</title>
      <link>https://linchengLC.github.io/post/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8sync.pool/</link>
      <pubDate>Sat, 26 Oct 2019 12:11:17 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/post/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8sync.pool/</guid>
      
        <description>

&lt;h4 id=&#34;ä»‹ç»&#34;&gt;ä»‹ç»&lt;/h4&gt;

&lt;p&gt;å› ä¸ºä½¿ç”¨Poolåæ›´å¿«ã€‚é€šè¿‡æ–‡ç« åº•éƒ¨å­˜å‚¨åº“ä¸­çš„åŸºå‡†æµ‹è¯•å¯ä»¥è¾ƒå°‘4982è¢«çš„å†…å­˜å ç”¨&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/19131697-1865b3c2c293422e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ï¼ŒPoolçš„æ€§èƒ½æ›´å¿«æ›´å¥½&lt;/p&gt;

&lt;h4 id=&#34;ok-è¿™ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢&#34;&gt;okï¼Œè¿™ç©¶ç«Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;åƒåœ¾å›æ”¶å®šæœŸæ‰§è¡Œã€‚å¦‚æœä½ çš„ä»£ç ä¸æ–­åœ°åœ¨è¿›è¡Œä¸€äº›æ•°æ®ç»“æ„ä¸­åˆ†é…å†…å­˜ç„¶åé‡Šæ”¾ä»–ä»¬ï¼Œè¿™å°±ä¼šå¯¼è‡´æ”¶é›†å™¨çš„ä¸æ–­å·¥ä½œï¼Œä½¿å¾—æ›´å¤šçš„å†…å­˜å’ŒCPUè¢«ç”¨æ¥åœ¨åˆå§‹åŒ–ç»“æ„ä½“æ—¶åˆ†é…èµ„æºã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å¯¹sync/pool.goçš„æè¿°å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;p&gt;Poolæ˜¯ä¸€ç»„å¯ä»¥å•ç‹¬ä¿å­˜å’Œæ£€ç´¢çš„ä¸´æ—¶å¯¹è±¡ã€‚&lt;/p&gt;

&lt;p&gt;Poolå¯ä»¥å®‰å…¨åœ°åŒæ—¶ä½¿ç”¨å¤šä¸ªGoroutineã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;sync.Pool&lt;/strong&gt;å…è®¸æˆ‘ä»¬é‡ç”¨å†…å­˜è€Œéé‡æ–°åˆ†é…ã€‚&lt;/p&gt;

&lt;p&gt;æ­¤å¤–ï¼Œå¦‚æœä½ ä½¿ç”¨çš„ http æœåŠ¡å™¨æ¥æ”¶å¸¦æœ‰ JSON è¯·æ±‚ä½“çš„ post è¯·æ±‚ï¼Œå¹¶ä¸”å®ƒå¿…é¡»è¢«è§£ç åˆ°ç»“æ„ä½“ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ &lt;strong&gt;sync.Pool&lt;/strong&gt; æ¥èŠ‚çœå†…å­˜å¹¶å‡å°‘æœåŠ¡å™¨å“åº”æ—¶é—´ã€‚&lt;/p&gt;

&lt;h2 id=&#34;sync-pool-ç”¨æ³•&#34;&gt;sync.Pool ç”¨æ³•&lt;/h2&gt;

&lt;p&gt;sync.Pool æ„é€ å¾ˆç®€å•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;var bufferPool = sync.Pool{	
	New: func() interface{} {		
			return new(bytes.Buffer)	
	},
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç°åœ¨ä½ å°†ä¼šåˆ›å»ºä¸€ä¸ª Pool å’Œæ–°çš„ç¼“å†²åŒºã€‚ä½ å¯ä»¥è¿™æ ·åˆ›å»ºç¬¬ä¸€ä¸ªç¼“å†²åŒºï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;buffer := bufferPool.Get().(*bytes.Buffer)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;get æ–¹æ³•ä¼šè¿”å› Pool ä¸­å·²å­˜åœ¨çš„ *&lt;strong&gt;bytes.Buffer&lt;/strong&gt;ï¼Œå¦åˆ™å°†è°ƒç”¨ &lt;strong&gt;New&lt;/strong&gt; æ–¹æ³•æ¥åˆå§‹åŒ–æ–°çš„ *&lt;strong&gt;bytes.Buffer&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä½†åœ¨ç¼“å†²åŒºä½¿ç”¨åï¼Œä½ å¿…é¡»å°†å…¶é‡ç½®å¹¶æ”¾å› Pool ä¸­ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;buffer.Reset()bufferPool.Put(buffer)
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;åŸºå‡†æµ‹è¯•&#34;&gt;åŸºå‡†æµ‹è¯•&lt;/h2&gt;

&lt;blockquote&gt;
&lt;p&gt;å‚æ•°è§£é‡Šï¼š&lt;/p&gt;

&lt;p&gt;æ•°å­—&lt;code&gt;8&lt;/code&gt;è¡¨ç¤º&lt;code&gt;GOMAXPROCS&lt;/code&gt;çš„å€¼ï¼Œè¿™ä¸ªå¯¹äºå¹¶å‘åŸºå‡†æµ‹è¯•å¾ˆé‡è¦ã€‚&lt;code&gt;5000000&lt;/code&gt;å’Œ&lt;code&gt;384ns/op&lt;/code&gt;è¡¨ç¤ºæ¯æ¬¡è°ƒç”¨&lt;code&gt;bytes.Buffer&lt;/code&gt;å‡½æ•°è€—æ—¶&lt;code&gt;384ns&lt;/code&gt;ï¼Œè¿™ä¸ªç»“æœæ˜¯&lt;code&gt;5000000&lt;/code&gt;æ¬¡è°ƒç”¨çš„å¹³å‡å€¼ï¼Œ&lt;code&gt;0 B/op&lt;/code&gt;è¡¨ç¤ºæ¯æ¬¡æ“ä½œå†…å­˜åˆ†é…äº†0å­—èŠ‚ï¼Œ&lt;code&gt;0 allocs/op&lt;/code&gt;åˆ™è¡¨ç¤ºæ¯æ¬¡æ“ä½œè¿›è¡Œäº†0æ¬¡å†…å­˜åˆ†é…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&#34;å°†-json-ç¼–ç ä¸º-bytes-buffer&#34;&gt;å°† JSON ç¼–ç ä¸º bytes.Buffer&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;// å¯¹ JSON ç¼–ç çš„ä»£ç æ®µ
BenchmarkReadStreamWithPool-8        5000000        384 ns/op   0 B/op   0allocs/op
BenchmarkReadStreamWithoutPool-8     3000000        554 ns/op   160 B/op 2 allocs/op
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬å¾—åˆ°äº† 44% çš„æ€§èƒ½æå‡å¹¶ä¸”èŠ‚çœäº†éå¸¸å¤šçš„å†…å­˜ (160B/ops vs 0B/ops)ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å°†å­—èŠ‚å†™å…¥-bufio-writer&#34;&gt;å°†å­—èŠ‚å†™å…¥ bufio.Writer&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;BenchmarkWriteBufioWithPool-8       10000000        123 ns/op      128 B/op 2allocs/op
BenchmarkWriteBufioWithoutPool-8     2000000        651 ns/op     4288 B/op 4allocs/op
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬å¾—åˆ°äº† 5 å€æ€§èƒ½æå‡å¹¶ä¸”å‡å°‘äº† 32 å€å†…å­˜ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&#34;å°†-json-è§£ç ä¸º-struct&#34;&gt;å°† JSON è§£ç ä¸º struct&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;BenchmarkJsonDecodeWithPool-8        1000000       1729 ns/op     1128 B/op 8allocs/op
BenchmarkJsonDecodeWithoutPool-8     1000000       1751 ns/op     1160 B/op 9allocs/op
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å› ä¸º JSON è§£ç æ“ä½œå¤ªéš¾ï¼Œæˆ‘ä»¬çš„æ€§èƒ½åªæå‡äº† 1%ï¼Œæˆ‘ä»¬æ— æ³•é€šè¿‡é‡ç”¨ç»“æ„ä½“å¾—åˆ°æ­£å¸¸çš„æå‡ã€‚&lt;/p&gt;

&lt;h3 id=&#34;gzip-å­—èŠ‚&#34;&gt;Gzip å­—èŠ‚&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;BenchmarkWriteGzipWithPool-8          500000    2339 ns/op      162 B/op 2allocs/op
BenchmarkWriteGzipWithoutPool-8       10000     105288 ns/op   807088 B/op 16allocs/op
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç­‰ç­‰ï¼Œä»€ä¹ˆï¼Ÿæ€§èƒ½æå‡äº† 45 å€å¹¶ä¸”å†…å­˜ä½¿ç”¨é‡å‡å°‘äº† 4982 å€ã€‚&lt;/p&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;åŠ¡å¿…ä½¿ç”¨ &lt;strong&gt;sync.Pool&lt;/strong&gt; ï¼å®ƒç¡®å®å¯ä»¥èŠ‚çœå†…å­˜å¹¶æé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;åŸºå‡†æµ‹è¯•çš„ Github å­˜å‚¨åº“åœ¨&lt;a href=&#34;https://github.com/Mnwa/GoBench&#34;&gt;&lt;strong&gt;è¿™é‡Œ&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;æ‘˜è‡ªGoè¯­è¨€ä¸­æ–‡ç½‘&lt;a href=&#34;https://studygolang.com/articles/21384&#34;&gt;https://studygolang.com/articles/21384&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
</description>
      
    </item>
    
    <item>
      <title>é¢è¯•çŸ¥è¯†ç‚¹</title>
      <link>https://linchengLC.github.io/post/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/</link>
      <pubDate>Sat, 26 Oct 2019 12:11:17 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/post/%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/</guid>
      
        <description>

&lt;h1 id=&#34;1-å‰è¨€&#34;&gt;1. å‰è¨€&lt;/h1&gt;

&lt;p&gt;é¢è¯•è€ƒå¯Ÿçš„çŸ¥è¯†ç‚¹å¤šè€Œæ‚ï¼Œè¦å®Œå…¨æŒæ¡éœ€è¦èŠ±è´¹å¤§é‡çš„æ—¶é—´å’Œç²¾åŠ›ã€‚ä½†æ˜¯é¢è¯•ä¸­ç»å¸¸è¢«é—®åˆ°çš„çŸ¥è¯†ç‚¹å´æ²¡æœ‰å¤šå°‘ï¼Œä½ å®Œå…¨å¯ä»¥ç”¨ 20% çš„æ—¶é—´å»æŒæ¡ 80% å¸¸é—®çš„çŸ¥è¯†ç‚¹ã€‚åœ¨è¿™é‡Œæˆ‘å°†è¿™ 80% å¸¸é—®çš„çŸ¥è¯†ç‚¹æ•´ç†å‡ºæ¥ï¼Œæ–¹ä¾¿å¤§å®¶å¿«é€Ÿåœ°æŒæ¡ã€‚è¿™äº›çŸ¥è¯†ç‚¹ä¹Ÿæ ‡æ³¨äº†é‡è¦ç¨‹åº¦ï¼Œä»è€Œè®©å¤§å®¶å¯ä»¥æ ¹æ®çŸ¥è¯†ç‚¹çš„é‡è¦ç¨‹åº¦å»åˆ¶å®šå­¦ä¹ è®¡åˆ’ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœä½ æƒ³æ›´å¥½çš„å­¦ä¹ è¿™äº›çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥å‚è€ƒ &lt;a href=&#34;https://xiaozhuanlan.com/topic/4150387926&#34;&gt;çŸ¥è¯†æ€»ç»“æ–¹æ³•&lt;/a&gt; ä¸€æ–‡ï¼Œè¿™ç¯‡æ–‡ç« çš„æœ€åç»™å‡ºäº†æ¯”æœ¬æ–‡æ›´è¯¦ç»†çš„æ€ç»´å¯¼å›¾ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹å›¾åˆ—å‡ºäº†é¢è¯•è€ƒå¯Ÿçš„ä¹å¤§çŸ¥è¯†ç‚¹ï¼Œä¹Ÿæ ‡å‡ºäº†é‡è¦ç¨‹åº¦å’Œå¤ä¹ éš¾åº¦ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®é‡è¦ç¨‹åº¦æ ¹æ®ä¸åŒçš„å…¬å¸ä¼šæœ‰æ‰€ä¸åŒï¼Œé’ˆå¯¹ä¸Šå›¾åšä¸€ä¸‹å‡ ç‚¹è¯´æ˜ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;åˆ†å¸ƒå¼ä¸ç³»ç»Ÿè®¾è®¡éƒ¨åˆ†å¯¹äºå¤§å‚é¢è¯•æ¥è¯´è‡³å…³é‡è¦ï¼Œä½†æ˜¯å°å‚é¢è¯•è€ƒå¯Ÿçš„ä¼šå°‘ä¸€ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;è¯­è¨€åŸºç¡€éƒ¨åˆ†ï¼Œé˜¿é‡Œå–œæ¬¢é—® Javaã€è…¾è®¯å–œæ¬¢é—® C++ï¼Œå…¶å®ƒå¤§å‚é¢è¯•è€ƒå¯Ÿä¼šå°‘ä¸€äº›ï¼Œå°å‚é¢è¯•ä¼šè€ƒå¯Ÿå¤šä¸€äº›ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®åº“ã€ä¸­é—´ä»¶å’Œæ¡†æ¶éƒ¨åˆ†å¯¹äºå¤§å‚é¢è¯•æ¥è¯´ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œä½†æ˜¯å¯¹äºå°å‚é¢è¯•ä¼šé‡è¦ä¸€äº›ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æœ€åå†è¯´ä¸€ä¸‹é¡¹ç›®éƒ¨åˆ†ï¼Œå®ƒåœ¨å®ä¹ æ‹›è˜é˜¶æ®µä¸­ä¸æ˜¯ç‰¹åˆ«é‡è¦ï¼Œä½†æ˜¯åœ¨æ ¡å›­æ‹›è˜é˜¶æ®µé‡è¦ç¨‹åº¦ä¼šå¢é«˜ã€‚ä½†æ˜¯å¦‚æœä½ çš„å­¦å†ä¸å¥½ï¼Œè€Œä¸”æ²¡æœ‰åšå®¢ã€å¼€æºé¡¹ç›®ã€ç«èµ›ç­‰åŠ åˆ†é¡¹ï¼Œé‚£ä¹ˆæœ€å¥½åšä¸ªæ¯”è¾ƒå‡ºè‰²çš„é¡¹ç›®æ¥å¢åŠ ç®€å†é€šè¿‡ç‡ã€‚&lt;/p&gt;

&lt;p&gt;ğŸ’»&lt;/p&gt;

&lt;h1 id=&#34;2-æ“ä½œç³»ç»Ÿ&#34;&gt;2. æ“ä½œç³»ç»Ÿ&lt;/h1&gt;

&lt;h2 id=&#34;2-1-åŸºç¡€&#34;&gt;2.1 åŸºç¡€&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… è¿›ç¨‹ä¸çº¿ç¨‹çš„æœ¬è´¨åŒºåˆ«ã€ä»¥åŠå„è‡ªçš„ä½¿ç”¨åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† è¿›ç¨‹çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… è¿›ç¨‹è°ƒåº¦ç®—æ³•çš„ç‰¹ç‚¹ä»¥åŠä½¿ç”¨åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† çº¿ç¨‹å®ç°çš„æ–¹å¼ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† åç¨‹çš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† å¸¸è§è¿›ç¨‹åŒæ­¥é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… è¿›ç¨‹é€šä¿¡æ–¹æ³•çš„ç‰¹ç‚¹ä»¥åŠä½¿ç”¨åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… æ­»é”å¿…è¦æ¡ä»¶ã€è§£å†³æ­»é”ç­–ç•¥ï¼Œèƒ½å†™å‡ºå’Œåˆ†ææ­»é”çš„ä»£ç ï¼Œèƒ½è¯´æ˜åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿæˆ–è€… Java ä¸­å¦‚ä½•è§£å†³æ­»é”ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… è™šæ‹Ÿå†…å­˜çš„ä½œç”¨ï¼Œåˆ†é¡µç³»ç»Ÿå®ç°è™šæ‹Ÿå†…å­˜åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… é¡µé¢ç½®æ¢ç®—æ³•çš„åŸç†ï¼Œç‰¹åˆ«æ˜¯ LRU çš„å®ç°åŸç†ï¼Œæœ€å¥½èƒ½æ‰‹å†™ï¼Œå†è¯´æ˜å®ƒåœ¨ Redis ç­‰ä½œä¸ºç¼“å­˜ç½®æ¢ç®—æ³•ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… æ¯”è¾ƒåˆ†é¡µä¸åˆ†æ®µçš„åŒºåˆ«ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… åˆ†æé™æ€é“¾æ¥çš„ä¸è¶³ï¼Œä»¥åŠåŠ¨æ€é“¾æ¥çš„ç‰¹ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;2-2-linux&#34;&gt;2.2 Linux&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜† æ–‡ä»¶ç³»ç»Ÿçš„åŸç†ï¼Œç‰¹åˆ«æ˜¯ inode å’Œ blockã€‚æ•°æ®æ¢å¤åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ç¡¬é“¾æ¥ä¸è½¯é“¾æ¥çš„åŒºåˆ«ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† èƒ½å¤Ÿä½¿ç”¨å¸¸ç”¨çš„å‘½ä»¤ï¼Œæ¯”å¦‚ cat æ–‡ä»¶å†…å®¹æŸ¥çœ‹ã€find æœç´¢æ–‡ä»¶ï¼Œä»¥åŠ cutã€sort ç­‰ç®¡çº¿å‘½ä»¤ã€‚äº†è§£ grep å’Œ awk çš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… åƒµå°¸è¿›ç¨‹ä¸å­¤å„¿è¿›ç¨‹çš„åŒºåˆ«ï¼Œä» SIGCHLD åˆ†æäº§ç”Ÿåƒµå°¸è¿›ç¨‹çš„åŸå› ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â˜ï¸&lt;/p&gt;

&lt;h1 id=&#34;3-ç½‘ç»œ&#34;&gt;3. ç½‘ç»œ&lt;/h1&gt;

&lt;h2 id=&#34;3-1-åŸºç¡€&#34;&gt;3.1 åŸºç¡€&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… å„å±‚åè®®çš„ä½œç”¨ï¼Œä»¥åŠ TCP/IP åè®®çš„ç‰¹ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† ä»¥å¤ªç½‘çš„ç‰¹ç‚¹ï¼Œä»¥åŠå¸§ç»“æ„ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† é›†çº¿å™¨ã€äº¤æ¢æœºã€è·¯ç”±å™¨çš„ä½œç”¨ï¼Œä»¥åŠæ‰€å±çš„ç½‘ç»œå±‚ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† IP æ•°æ®æ•°æ®æŠ¥å¸¸è§å­—æ®µçš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† ARP åè®®çš„ä½œç”¨ï¼Œä»¥åŠç»´æŠ¤ ARP ç¼“å­˜çš„è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† ICMP æŠ¥æ–‡ç§ç±»ä»¥åŠä½œç”¨ï¼›å’Œ IP æ•°æ®æŠ¥çš„å…³ç³»ï¼›Ping å’Œ Traceroute çš„å…·ä½“åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… UDP ä¸ TCP æ¯”è¾ƒï¼Œåˆ†æä¸Šå±‚åè®®åº”è¯¥ä½¿ç”¨ UDP è¿˜æ˜¯ TCPã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ç†è§£ä¸‰æ¬¡æ¡æ‰‹ä»¥åŠå››æ¬¡æŒ¥æ‰‹å…·ä½“è¿‡ç¨‹ï¼Œä¸‰æ¬¡æ¡æ‰‹çš„åŸå› ã€å››æ¬¡æŒ¥æ‰‹åŸå› ã€TIME_WAIT çš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… å¯é ä¼ è¾“åŸç†ï¼Œå¹¶è®¾è®¡å¯é  UDP åè®®ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† TCP æ‹¥å¡æ§åˆ¶çš„ä½œç”¨ï¼Œç†è§£å…·ä½“åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† DNS çš„ç«¯å£å·ï¼›TCP è¿˜æ˜¯ UDPï¼›ä½œä¸ºç¼“å­˜ã€è´Ÿè½½å‡è¡¡ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;3-2-http&#34;&gt;3.2 HTTP&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… GET ä¸ POST æ¯”è¾ƒï¼šä½œç”¨ã€å‚æ•°ã€å®‰å…¨æ€§ã€å¹‚ç­‰æ€§ã€å¯ç¼“å­˜ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† HTTP çŠ¶æ€ç ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… Cookie ä½œç”¨ã€å®‰å…¨æ€§é—®é¢˜ã€å’Œ Session çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† ç¼“å­˜ çš„Cache-Control å­—æ®µï¼Œç‰¹åˆ«æ˜¯ Expires å’Œ max-age çš„åŒºåˆ«ã€‚ETag éªŒè¯åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… é•¿è¿æ¥ä¸çŸ­è¿æ¥åŸç†ä»¥åŠä½¿ç”¨åœºæ™¯ï¼Œæµæ°´çº¿ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… HTTP å­˜åœ¨çš„å®‰å…¨æ€§é—®é¢˜ï¼Œä»¥åŠ HTTPs çš„åŠ å¯†ã€è®¤è¯å’Œå®Œæ•´æ€§ä¿æŠ¤ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† HTTP/1.x çš„ç¼ºé™·ï¼Œä»¥åŠ HTTP/2 çš„ç‰¹ç‚¹ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… HTTP/1.1 çš„ç‰¹æ€§ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† HTTP ä¸ FTP çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;3-3-socket&#34;&gt;3.3 Socket&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜† äº”ç§ IO æ¨¡å‹çš„ç‰¹ç‚¹ä»¥åŠæ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… selectã€pollã€epoll çš„åŸç†ã€æ¯”è¾ƒã€ä»¥åŠä½¿ç”¨åœºæ™¯ï¼›epoll çš„æ°´å¹³è§¦å‘ä¸è¾¹ç¼˜è§¦å‘ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ’¾&lt;/p&gt;

&lt;h1 id=&#34;4-æ•°æ®åº“&#34;&gt;4. æ•°æ®åº“&lt;/h1&gt;

&lt;h2 id=&#34;4-1-sql&#34;&gt;4.1 SQL&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜† æ‰‹å†™ SQL è¯­å¥ï¼Œç‰¹åˆ«æ˜¯è¿æ¥æŸ¥è¯¢ä¸åˆ†ç»„æŸ¥è¯¢ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† è¿æ¥æŸ¥è¯¢ä¸å­æŸ¥è¯¢çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† dropã€deleteã€truncate æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† è§†å›¾çš„ä½œç”¨ï¼Œä»¥åŠä½•æ—¶èƒ½æ›´æ–°è§†å›¾ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† ç†è§£å­˜å‚¨è¿‡ç¨‹ã€è§¦å‘å™¨ç­‰ä½œç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;4-2-ç³»ç»ŸåŸç†&#34;&gt;4.2 ç³»ç»ŸåŸç†&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… ACID çš„ä½œç”¨ä»¥åŠå®ç°åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… å››å¤§éš”ç¦»çº§åˆ«ï¼Œä»¥åŠä¸å¯é‡å¤è¯»å’Œå¹»å½±è¯»çš„å‡ºç°åŸå› ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† å°é”çš„ç±»å‹ä»¥åŠç²’åº¦ï¼Œä¸¤æ®µé”åè®®ï¼Œéšå¼å’Œæ˜¾ç¤ºé”å®šã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ä¹è§‚é”ä¸æ‚²è§‚é”ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… MVCC åŸç†ï¼Œå½“å‰è¯»ä»¥åŠå¿«ç…§è¯»ï¼ŒNext-Key Locks è§£å†³å¹»å½±è¯»ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† èŒƒå¼ç†è®ºã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… SQL ä¸ NoSQL çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;4-3-mysql&#34;&gt;4.3 MySQL&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… B+ Tree åŸç†ï¼Œä¸å…¶å®ƒæŸ¥æ‰¾æ ‘çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… MySQL ç´¢å¼•ä»¥åŠä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… æŸ¥è¯¢ä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… InnoDB ä¸ MyISAM æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† æ°´å¹³åˆ‡åˆ†ä¸å‚ç›´åˆ‡åˆ†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† ä¸»ä»å¤åˆ¶åŸç†ã€ä½œç”¨ã€å®ç°ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† redoã€undoã€binlog æ—¥å¿—çš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;4-4-redis&#34;&gt;4.4 Redis&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜† å­—å…¸å’Œè·³è·ƒè¡¨åŸç†åˆ†æã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ä½¿ç”¨åœºæ™¯ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ä¸ Memchached çš„æ¯”è¾ƒã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† æ•°æ®æ·˜æ±°æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† RDB å’Œ AOF æŒä¹…åŒ–æœºåˆ¶ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† äº‹ä»¶é©±åŠ¨æ¨¡å‹ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† ä¸»ä»å¤åˆ¶åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… é›†ç¾¤ä¸åˆ†å¸ƒå¼ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜† äº‹åŠ¡åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ğŸ¨&lt;/p&gt;

&lt;h1 id=&#34;5-é¢å‘å¯¹è±¡&#34;&gt;5. é¢å‘å¯¹è±¡&lt;/h1&gt;

&lt;h2 id=&#34;5-1-æ€æƒ³&#34;&gt;5.1 æ€æƒ³&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜… é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;â˜…â˜†â˜† è®¾è®¡åŸåˆ™&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;5-2-è®¾è®¡æ¨¡å¼&#34;&gt;5.2 è®¾è®¡æ¨¡å¼&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;â˜…â˜…â˜† è®¾è®¡æ¨¡å¼çš„ä½œç”¨ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… æ‰‹å†™å•ä¾‹æ¨¡å¼ï¼Œç‰¹åˆ«æ˜¯åŒé‡æ£€éªŒé”ä»¥åŠé™æ€å†…éƒ¨ç±»ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… æ‰‹å†™å·¥å‚æ¨¡å¼ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ç†è§£ MVCï¼Œç»“åˆ SpringMVC å›ç­”ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… ç†è§£ä»£ç†æ¨¡å¼ï¼Œç»“åˆ Spring ä¸­çš„ AOP å›ç­”ã€‚&lt;/li&gt;
&lt;li&gt;â˜…â˜…â˜… åˆ†æ JDK ä¸­å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä¾‹å¦‚è£…é¥°è€…æ¨¡å¼ã€é€‚é…å™¨æ¨¡å¼ã€è¿­ä»£å™¨æ¨¡å¼ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
      
    </item>
    
    <item>
      <title>åè½¬æ•´æ•°</title>
      <link>https://linchengLC.github.io/post/%E5%8F%8D%E8%BD%AC%E6%95%B4%E6%95%B0/</link>
      <pubDate>Fri, 18 Oct 2019 12:11:17 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/post/%E5%8F%8D%E8%BD%AC%E6%95%B4%E6%95%B0/</guid>
      
        <description>&lt;p&gt;ç»™å®šä¸€ä¸ª 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå°†æ•´æ•°ä¸­çš„æ•°å­—è¿›è¡Œåè½¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; 123&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 321&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 2:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; -123&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; -321&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 3:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; 120&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 21&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;å‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’2^31 ,  2^31 âˆ’ 1]ã€‚æ ¹æ®è¿™ä¸ªå‡è®¾ï¼Œå¦‚æœåè½¬åçš„æ•´æ•°æº¢å‡ºï¼Œåˆ™è¿”å› 0ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®ç°æ€è·¯:&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1.å¦‚æœxä¸ºè´Ÿæ•°åˆ™å°†æ ‡å¿—ä½signç½®ä¸º-1ï¼Œå¹¶ä¸”å°†xå˜ä¸ºæ­£æ•°&lt;/p&gt;

&lt;p&gt;2.forå¾ªç¯&lt;/p&gt;

&lt;p&gt;å¯¹xå–10ä½™å¾—åˆ°temp&lt;/p&gt;

&lt;p&gt;æ”¾å…¥reså¤´å†…res*10+temp&lt;/p&gt;

&lt;p&gt;å°†xå»é™¤æœ«å°¾&lt;/p&gt;

&lt;p&gt;3.è¿˜åŸxçš„ç¬¦å·åˆ°res&lt;/p&gt;

&lt;p&gt;4.å¤„ç†resçš„æº¢å‡ºé—®é¢˜ï¼Œä½¿ç”¨math.maxint32å’Œmath.minint32&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç å®ç°:&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Reverse Integer
 * åè½¬æ•´æ•°
*/
import (
	â€œmathâ€
)
func reverse(x int) int {
	sign := 1
	// å¤„ç†è´Ÿæ•°
	if x &amp;lt; 0 {
		sign = -1
		x = -1 * x
	}
	res := 0
	for x &amp;gt; 0 {
		// å–å‡ºxçš„æœ«å°¾
		temp := x % 10
		// æ”¾å…¥ res çš„å¼€å¤´
		res = res*10 + temp
		// x å»é™¤æœ«å°¾
		x = x / 10
	}
	// è¿˜åŸ x çš„ç¬¦å·åˆ° res
	res = sign * res
	// å¤„ç† res çš„æº¢å‡ºé—®é¢˜
	if res &amp;gt; math.MaxInt32 || res &amp;lt; math.MinInt32 {
		res = 0
	}
	return res
}
&lt;/code&gt;&lt;/pre&gt;
</description>
      
    </item>
    
    <item>
      <title>ç½—é©¬æ•°å­—è½¬æ¢ä¸ºæ•´æ•°</title>
      <link>https://linchengLC.github.io/post/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B4%E6%95%B0/</link>
      <pubDate>Fri, 18 Oct 2019 12:11:17 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/post/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%95%B4%E6%95%B0/</guid>
      
        <description>&lt;p&gt;ç½—é©¬æ•°å­—åŒ…å«ä»¥ä¸‹ä¸ƒç§å­—ç¬¦ï¼š I ï¼Œ V ï¼Œ X ï¼Œ L ï¼Œ C ï¼Œ D å’Œ M ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å­—ç¬¦&lt;/strong&gt;  &lt;strong&gt;æ•°å€¼&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I 1&lt;/p&gt;

&lt;p&gt;V 5&lt;/p&gt;

&lt;p&gt;X 10&lt;/p&gt;

&lt;p&gt;L 50&lt;/p&gt;

&lt;p&gt;C 100&lt;/p&gt;

&lt;p&gt;D 500&lt;/p&gt;

&lt;p&gt;M 1000&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼Œ ç½—é©¬æ•°å­— 2 å†™åš II ï¼Œå³ä¸ºä¸¤ä¸ªå¹¶åˆ—çš„ 1ã€‚12 å†™åš XII ï¼Œå³ä¸º X + II ã€‚ 27 å†™åš XXVII , å³ä¸º XX + V + II ã€‚&lt;/p&gt;

&lt;p&gt;é€šå¸¸æƒ…å†µä¸‹ï¼Œç½—é©¬æ•°å­—ä¸­å°çš„æ•°å­—åœ¨å¤§çš„æ•°å­—çš„å³è¾¹ã€‚ä½†ä¹Ÿå­˜åœ¨ç‰¹ä¾‹ï¼Œä¾‹å¦‚ 4 ä¸å†™åš IIII ï¼Œè€Œæ˜¯ IV ã€‚æ•°å­— 1 åœ¨æ•°å­— 5 çš„å·¦è¾¹ï¼Œæ‰€è¡¨ç¤ºçš„æ•°ç­‰äºå¤§æ•° 5 å‡å°æ•° 1 å¾—åˆ°çš„æ•°å€¼ 4 ã€‚åŒæ ·åœ°ï¼Œæ•°å­— 9 è¡¨ç¤ºä¸º IX ã€‚è¿™ä¸ªç‰¹æ®Šçš„è§„åˆ™åªé€‚ç”¨äºä»¥ä¸‹å…­ç§æƒ…å†µï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I å¯ä»¥æ”¾åœ¨ V (5) å’Œ X (10) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 4 å’Œ 9ã€‚&lt;/li&gt;
&lt;li&gt;X å¯ä»¥æ”¾åœ¨ L (50) å’Œ C (100) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 40 å’Œ 90ã€‚&lt;/li&gt;
&lt;li&gt;C å¯ä»¥æ”¾åœ¨ D (500) å’Œ M (1000) çš„å·¦è¾¹ï¼Œæ¥è¡¨ç¤º 400 å’Œ 900ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç»™å®šä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå°†å…¶è½¬æ¢æˆæ•´æ•°ã€‚è¾“å…¥ç¡®ä¿åœ¨ 1 åˆ° 3999 çš„èŒƒå›´å†…ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 1:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; &amp;ldquo;III&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 3&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 2:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; &amp;ldquo;IV&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 4&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 3:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; &amp;ldquo;IX&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 9&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 4:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; &amp;ldquo;LVIII&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 58&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è§£é‡Š:&lt;/strong&gt; C = 100, L = 50, XXX = 30, III = 3.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ 5:&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å…¥:&lt;/strong&gt; &amp;ldquo;MCMXCIV&amp;rdquo;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è¾“å‡º:&lt;/strong&gt; 1994&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;è§£é‡Š:&lt;/strong&gt; M = 1000, CM = 900, XC = 90, IV = 4.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å®ç°æ€è·¯:&lt;/strong&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;1.å®šä¹‰ä¸€ä¸ªmapç”¨äºå­˜å‚¨æ¯ä¸ªç½—é©¬æ•°å­—ä»£è¡¨çš„æ•´æ•°&lt;/p&gt;

&lt;p&gt;2.å®šä¹‰ä¸€ä¸ªsignæ ‡å¿—ç”¨äºåˆ¤æ–­å‰ä¸€ä¸ªç½—é©¬æ•°å­—æ˜¯å¦å°äºåä¸€ä¸ªç½—é©¬æ•°å­—ï¼Œå¦‚æœå°äºåˆ™å°†signæ ‡å¿—ç½®ä¸º-1&lt;/p&gt;

&lt;p&gt;3.ä»åå¾€å‰å¾ªç¯éå†å­—ç¬¦ä¸²ï¼Œå¦‚æœå‰ä¸€ä¸ªç½—é©¬æ•°å­—é€šè¿‡mapè·å–åˆ°çš„å€¼(temp)å°äºåä¸€ä¸ª(last)ï¼Œsign=-1&lt;/p&gt;

&lt;p&gt;â€‹    res=sign*temp&lt;/p&gt;

&lt;p&gt;â€‹    last=temp&lt;/p&gt;

&lt;p&gt;4.è¿”å›res&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;strong&gt;ä»£ç å®ç°:&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-go&#34;&gt;/**
 * Roman to Integer
 * ç½—é©¬æ•°å­—è½¬æ•´æ•°
*/
func romanToInt(s string) int {
	res := 0
	m := map[byte]int{
		â€˜Iâ€™: 1,
		â€˜Vâ€™: 5,
		â€˜Xâ€™: 10,
		â€˜Lâ€™: 50,
		â€˜Câ€™: 100,
		â€˜Dâ€™: 500,
		â€˜Mâ€™: 1000,
	}
	last := 0
	for i := len(s) - 1; i &amp;gt;= 0; iâ€” {
		temp := m[s[i]]
		sign := 1
		if temp &amp;lt; last {
			//å°æ•°åœ¨å¤§æ•°çš„å·¦è¾¹ï¼Œè¦å‡å»å°æ•°
			sign = -1
		}
		res += sign * temp
		last = temp
	}
    return res
}
&lt;/code&gt;&lt;/pre&gt;
</description>
      
    </item>
    
    <item>
      <title>About</title>
      <link>https://linchengLC.github.io/about/</link>
      <pubDate>Sun, 20 Aug 2017 21:38:52 +0800</pubDate>
      
      <guid>https://linchengLC.github.io/about/</guid>
      
        <description>&lt;p&gt;Hugo is a static site engine written in Go.&lt;/p&gt;

&lt;p&gt;It makes use of a variety of open source projects including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spf13/cobra&#34;&gt;Cobra&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spf13/viper&#34;&gt;Viper&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spf13/jWalterWeatherman&#34;&gt;J Walter Weatherman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/spf13/cast&#34;&gt;Cast&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Learn more and contribute on &lt;a href=&#34;https://github.com/gohugoio&#34;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
</description>
      
    </item>
    
    <item>
      <title></title>
      <link>https://linchengLC.github.io/post/mysql%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://linchengLC.github.io/post/mysql%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</guid>
      
        <description>

&lt;p&gt;title: &amp;ldquo;MySQLå­¦ä¹ ç¬”è®°&amp;rdquo;
date: 2019-10-23T12:11:17+08:00
draft: false
tags: [&amp;ldquo;MySQL&amp;rdquo;]
categories: [&amp;ldquo;MySQL&amp;rdquo;]
author: &amp;ldquo;é–å¤šå¤š&amp;rdquo;&lt;/p&gt;

&lt;p&gt;weight: 1&lt;/p&gt;

&lt;h1 id=&#34;you-can-also-close-false-or-open-true-something-for-this-content&#34;&gt;You can also close(false) or open(true) something for this content.&lt;/h1&gt;

&lt;h1 id=&#34;p-s-comment-can-only-be-closed&#34;&gt;P.S. comment can only be closed&lt;/h1&gt;

&lt;h1 id=&#34;comment-false&#34;&gt;comment: false&lt;/h1&gt;

&lt;h1 id=&#34;toc-false&#34;&gt;toc: false&lt;/h1&gt;

&lt;h1 id=&#34;you-can-also-define-another-contentcopyright-e-g-contentcopyright-this-is-another-copyright&#34;&gt;You can also define another contentCopyright. e.g. contentCopyright: &amp;ldquo;This is another copyright.&amp;rdquo;&lt;/h1&gt;

&lt;p&gt;contentCopyright: &amp;lsquo;&lt;a href=&#34;https://github.com/gohugoio/hugoBasicExample&#34; rel=&#34;noopener&#34; target=&#34;_blank&#34;&gt;See origin&lt;/a&gt;&amp;lsquo;&lt;/p&gt;

&lt;h1 id=&#34;reward-false&#34;&gt;reward: false&lt;/h1&gt;

&lt;p&gt;mathjax: true&lt;/p&gt;

&lt;h3 id=&#34;å¸¸ç”¨mysqlå‘½ä»¤&#34;&gt;å¸¸ç”¨mysqlå‘½ä»¤&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;å®‰è£…ï¼š

&lt;ol&gt;
&lt;li&gt;Linux ç³»ç»Ÿè”ç½‘&lt;/li&gt;
&lt;li&gt;sudo apt-get update&lt;/li&gt;
&lt;li&gt;sudo apt-get install mysql-server&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;
&lt;li&gt;å¯åŠ¨ï¼š

&lt;ol&gt;
&lt;li&gt;/etc/init.d/mysql  start/stop/restart&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;service mysql start/stop/restart&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;æŸ¥çœ‹ï¼š&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;mysql -V æŸ¥çœ‹ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;service mysql status  æŸ¥çœ‹å½“å‰mysqlæœåŠ¡å™¨è¿è¡ŒçŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;netstat -apn | grep mysql  æŸ¥çœ‹å½“å‰mysqlæœåŠ¡å™¨è¿›ç¨‹ï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰ä¿¡æ¯ã€‚ ç«¯å£ï¼š3306&lt;/li&gt;
&lt;/ol&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ç™»å½•ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;è¯­æ³•ï¼šmysql -h IPåœ°å€ -P ç«¯å£å· -u ç”¨æˆ·å -på¯†ç &lt;/li&gt;
&lt;li&gt;mysql -h 127.0.0.1 -P 3306 -u root -p123456&lt;/li&gt;
&lt;li&gt;mysql  -u root -p123456  ç™»å½•æœ¬åœ°æ•°æ®åº“ã€‚ æ˜æ–‡å¯†ç è¾“å…¥ã€‚&lt;/li&gt;
&lt;li&gt;mysql  -u root -p å›è½¦ã€‚  éšè—å¯†ç è¾“å…¥ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ä¸€-æ¨¡ç³ŠæŸ¥è¯¢&#34;&gt;ä¸€ï¼šæ¨¡ç³ŠæŸ¥è¯¢&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;like&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬å’Œé€šé…ç¬¦æ­é…ä½¿ç”¨&lt;/p&gt;

&lt;p&gt;â€‹                é€šé…ç¬¦ï¼š&lt;/p&gt;

&lt;p&gt;â€‹                %   ä»»æ„å¤šä¸ªå­—ç¬¦ï¼ŒåŒ…å«0ä¸ªå­—ç¬¦&lt;/p&gt;

&lt;p&gt;â€‹                _   ä»»æ„å•ä¸ªå­—ç¬¦&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;between and&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;in&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;is null | is not null&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h4 id=&#34;1-like&#34;&gt;1ï¼‰LIKE&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥åå­—ä¸­åŒ…å«å­—ç¬¦açš„å‘˜å·¥ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select *
from employees
where last_name like &#39;%a%&#39;;#abc
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹2&#34;&gt;æ¡ˆä¾‹2&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥åå­—ä¸­ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸ºeï¼Œç¬¬äº”ä¸ªå­—æ¯ä¸ºaçš„å‘˜å·¥åå’Œå·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select last_name,salary
from employees
where last_name like &#39;__e_a%&#39;;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹3&#34;&gt;æ¡ˆä¾‹3&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥åä¸­ç¬¬äºŒä¸ªå­—ç¬¦ä¸º_çš„å‘˜å·¥å&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select last_name
from employees
where last_name like &#39;_\_%&#39;;
(where last_name like &#39;_$_%&#39; escape &#39;$&#39;(å£°æ˜$ä¸ºè½¬ä¹‰å­—ç¬¦))
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-between-and&#34;&gt;2ï¼‰between and&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-1&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥ç¼–å·åœ¨100åˆ°120ä¹‹é—´çš„å‘˜å·¥ä¿¡æ¯&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select *
from employees
where employee_id between 100 and 120;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-in&#34;&gt;3ï¼‰in&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-2&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥çš„å·¥ç§ç¼–å·æ˜¯IT_PROGã€AD_VPã€AD_PRESä¸­çš„ä¸€ä¸ªå‘˜å·¥åå’Œå·¥ç§ç¼–å·&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select last_name,job_id
from employees
where job_id in(&#39;IT_PROG&#39;,&#39;AD_VP&#39;,&#39;AD_PRES&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-is-null-is-not-null&#34;&gt;4ï¼‰is null | is not null&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-3&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ²¡æœ‰å¥–é‡‘çš„å‘˜å·¥åå’Œå¥–é‡‘ç‡&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select last_name,comission_pct
from employees
where commission_pct is null;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;5-å®‰å…¨ç­‰äº-ä¸ç­‰äº&#34;&gt;5ï¼‰å®‰å…¨ç­‰äº&amp;lt;=&amp;gt;ã€ä¸ç­‰äº&amp;lt;&amp;gt;&lt;/h4&gt;

&lt;p&gt;&amp;lt;=&amp;gt;æ—¢å¯ä»¥åˆ¤æ–­nullå€¼ï¼Œä¹Ÿå¯ä»¥åˆ¤æ–­æ™®é€šçš„æ•°å€¼ï¼Œå¯è¯»æ€§è¾ƒä½&lt;/p&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-4&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ²¡æœ‰å¥–é‡‘çš„å‘˜å·¥åå’Œå¥–é‡‘ç‡&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select last_name,comission_pct
from employees
where commission_pct &amp;lt;=&amp;gt; null;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;äºŒ-å¸¸ç”¨å‡½æ•°&#34;&gt;äºŒã€å¸¸ç”¨å‡½æ•°&lt;/h3&gt;

&lt;h4 id=&#34;1-concatå‡½æ•°&#34;&gt;1ï¼‰concatå‡½æ•°&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;æ‹¼æ¥å­—ç¬¦&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select concat(å­—ç¬¦1ï¼Œå­—ç¬¦2ï¼Œå­—ç¬¦3ï¼Œ....);
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-distinct&#34;&gt;2ï¼‰distinct&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;å»é‡&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select distinct å­—æ®µå from è¡¨å
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-ifnull&#34;&gt;3ï¼‰ifnull&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;åˆ¤æ–­æŸå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnullï¼Œå¦‚æœä¸ºnullè¿”å›æŒ‡å®šçš„å€¼ï¼Œå¦åˆ™è¿”å›åŸæœ¬çš„å€¼&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select ifnull(commission_pct,0) from employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-isnull&#34;&gt;4ï¼‰isnull&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;åˆ¤æ–­æŸä¸ªå­—æ®µæˆ–è¡¨è¾¾å¼æ˜¯å¦ä¸ºnullï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;ä¸‰-æ’åºæŸ¥è¯¢&#34;&gt;ä¸‰ã€æ’åºæŸ¥è¯¢&lt;/h3&gt;

&lt;p&gt;è¯­æ³•ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select æŸ¥è¯¢åˆ—è¡¨
from è¡¨
ã€where ç­›é€‰æ¡ä»¶ã€‘
order by æ’åºåˆ—è¡¨ ã€desc|ascã€‘
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-5&#34;&gt;æ¡ˆä¾‹1&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ï¼Œè¦æ±‚å·¥èµ„ä»é«˜åˆ°ä½æ’åº&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * 
from employees 
order by salary desc;
(é»˜è®¤ä¸å†™ä¸ºå‡åº)
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹2-1&#34;&gt;æ¡ˆä¾‹2&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢éƒ¨é—¨ç¼–å·&amp;gt;=90çš„å‘˜å·¥ä¿¡æ¯ï¼ŒæŒ‰å…¥èŒæ—¶é—´çš„å…ˆåè¿›è¡Œæ’åº&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * 
from employees 
where department_id&amp;gt;=90
order by hiredate asc;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹3-1&#34;&gt;æ¡ˆä¾‹3&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŒ‰å¹´è–ªçš„é«˜ä½æ˜¾ç¤ºå‘˜å·¥çš„ä¿¡æ¯å’Œå¹´è–ªã€æŒ‰è¡¨è¾¾å¼æ’åºã€‘&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select *,salary*12*(1+ifnull(commission_pct,0)) å¹´è–ª
from employees
order by å¹´è–ª desc;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹4&#34;&gt;æ¡ˆä¾‹4&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŒ‰å§“åçš„é•¿åº¦æ˜¾ç¤ºå‘˜å·¥çš„å§“åå’Œå·¥èµ„ã€æŒ‰å‡½æ•°æ’åºã€‘&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select length(last_name) å­—èŠ‚é•¿åº¦,last_name,salary
from employees
order by length(last_name) desc;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹5&#34;&gt;æ¡ˆä¾‹5&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥ä¿¡æ¯ï¼Œè¦æ±‚å…ˆæŒ‰å·¥èµ„æ’åºï¼Œå†æŒ‰å‘˜å·¥ç¼–å·æ’åºã€æŒ‰å¤šä¸ªå­—æ®µæ’åºã€‘&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select * 
from employees
order by salary asc,job_id desc;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;å››-å•è¡Œå‡½æ•°&#34;&gt;å››ã€å•è¡Œå‡½æ•°&lt;/h3&gt;

&lt;h4 id=&#34;1-å­—ç¬¦å‡½æ•°&#34;&gt;1ï¼‰å­—ç¬¦å‡½æ•°&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;length  è·å–å‚æ•°å€¼çš„å­—èŠ‚ä¸ªæ•°&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select length(&#39;john&#39;);
   ç»“æœï¼š4
   select length(&#39;å¼ ä¸‰ä¸°haha&#39;);
   ç»“æœï¼š13
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;concat æ‹¼æ¥å­—ç¬¦ä¸²&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select concat(last_name,&#39;_&#39;,first_name)
   from employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;upperã€lower&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select upper(&#39;john&#39;);
   select lower(&#39;joHn&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç¤ºä¾‹ï¼šå°†å§“å˜å¤§å†™ï¼Œåå˜å°å†™ï¼Œç„¶åæ‹¼æ¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select concat(upper(last_name),lower(first_name)) å§“å 
   from employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;substrã€substring æˆªå–å­—ç¬¦ä¸²&lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„ï¼šsqlä¸­ç´¢å¼•ä»1å¼€å§‹&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆªå–ä»æŒ‡å®šç´¢å¼•å¤„åé¢æ‰€æœ‰å­—ç¬¦&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select substr(&#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ&#39;,7) out_put;
   ç»“æœï¼šé™†å±•å…ƒ
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆªå–ä»æŒ‡å®šç´¢å¼•å¤„æŒ‡å®šå­—ç¬¦é•¿åº¦çš„å­—ç¬¦&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select substr(&#39;æè«æ„çˆ±ä¸Šäº†é™†å±•å…ƒ&#39;,1,3) out_put;
   ç»“æœï¼šæè«æ„
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¡ˆä¾‹ï¼šå§“åä¸­é¦–å­—ç¬¦å¤§å†™ï¼Œå…¶ä»–å­—ç¬¦å°å†™ç„¶åç”¨_æ‹¼æ¥ï¼Œæ˜¾ç¤ºå‡ºæ¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select concat(upper(substr(last_name,1,1)),&#39;_&#39;,lower(substr(last_name,2)))
   from employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;instr è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°èµ·å§‹ç´¢å¼•ï¼Œå¦‚æœæ‰¾ä¸åˆ°è¿”å›0&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select instr(&#39;æ¨ä¸æ®·å…­ä¾ æ¢…çˆ±ä¸Šäº†æ®·å…­ä¾ &#39;,&#39;æ®·å…­ä¾ &#39;) as out_put;
   ç»“æœï¼š10
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;trim å»é™¤å‰åç©ºæ ¼&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select trim(&#39;  å¼ ç¿ å±±   &#39;) as out_put;
   ç»“æœï¼šå¼ ç¿ å±±
   select trim(&#39;a&#39; from &#39;aaaaaaaaå¼ aaaaaaaç¿ å±±aaaaaaaaaaaaaaaaaaaaaaaa&#39;) as out_put;
   ç»“æœï¼šå¼ aaaaaaaç¿ å±±
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;lpad ç”¨æŒ‡å®šçš„å­—ç¬¦å®ç°å·¦å¡«å……æŒ‡å®šé•¿åº¦&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select lpad(&#39;æ®·ç´ ç´ &#39;,10,&#39;*&#39;) as out_put;
   ç»“æœï¼š*******æ®·ç´ ç´ (åŠ ä¸Šæ®·ç´ ç´ ä¸º10)
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;replace æ›¿æ¢&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select replace(&#39;å¼ æ— å¿Œçˆ±ä¸Šäº†å‘¨èŠ·è‹¥&#39;,&#39;å‘¨èŠ·è‹¥&#39;,&#39;èµµæ•&#39;) as out_put;
   ç»“æœï¼šå¼ æ— å¿Œçˆ±ä¸Šäº†èµµæ•
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-æ•°å­¦å‡½æ•°&#34;&gt;2ï¼‰æ•°å­¦å‡½æ•°&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;round å››èˆäº”å…¥&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select round(-1.55);
   ç»“æœï¼š-2
   select round(1.567,2);
   ç»“æœï¼š1.57
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;ceil å‘ä¸Šå–æ•´ï¼Œè¿”å›&amp;gt;=è¯¥å‚æ•°çš„æœ€å°æ•´æ•°&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select ceil(-1.02);
   ç»“æœï¼š-1
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;floor å‘ä¸‹å–æ•´ï¼Œè¿”å›&amp;lt;=è¯¥å‚æ•°çš„æœ€å¤§æ•´&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select floor(-9.99);
   ç»“æœï¼š-10
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;truncate æˆªæ–­&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select truncate(1.6999,1);
   ç»“æœï¼š1.6
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;mod å–ä½™&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select mod(10,-3);
   ç»“æœï¼š1
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-æ—¥æœŸå‡½æ•°&#34;&gt;3ï¼‰æ—¥æœŸå‡½æ•°&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;now è¿”å›å½“å‰ç³»ç»Ÿæ—¥æœŸ+æ—¶é—´&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select now();
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;curdate è¿”å›å½“å‰ç³»ç»Ÿæ—¥æœŸï¼Œä¸åŒ…å«æ—¶é—´&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select curdate();
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;curtime è¿”å›å½“å‰ç³»ç»Ÿæ—¶é—´ï¼Œä¸åŒ…å«æ—¥æœŸ&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select curtime();
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;å¯ä»¥è·å–æŒ‡å®šçš„éƒ¨åˆ†ï¼Œå¹´ã€æœˆã€æ—¥ã€å°æ—¶ã€åˆ†é’Ÿã€ç§’&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select YEAR(NOW()) å¹´;  
   select YEAR(&#39;1998-1-1&#39;) å¹´;
   select YEAR(hiredata) å¹´ from employees;
   select MONTHNAME(NOW()) æœˆ;
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;str_to_date å°†å­—ç¬¦é€šè¿‡æŒ‡å®šçš„æ ¼å¼è½¬æ¢æˆæ—¥æœŸ&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select str_to_date(&#39;1998-3-2&#39;,&#39;%Y-%c-%d&#39;) as out_put;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¡ˆä¾‹ï¼šæŸ¥è¯¢å…¥èŒæ—¥æœŸä¸º1992-4-3çš„å‘˜å·¥ä¿¡æ¯&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select * from employees where hiredate=&#39;1992-4-3&#39;
   å®é™…ä¸šåŠ¡åœºæ™¯ï¼š
   æŸ¥è¯¢æ—¥æœŸè¾“å…¥çš„ä¸ä¸€å®šæ˜¯æŒ‰ç…§æ•°æ®åº“å†…ä¿å­˜æ•°æ®æ ¼å¼ç›¸åŒè¾“å…¥çš„
   select * from employess where hiredate=str_to_date(&#39;4-3 1992&#39;,&#39;%c-%d %Y&#39;);
&lt;/code&gt;&lt;/pre&gt;

&lt;ol&gt;
&lt;li&gt;date_format å°†æ—¥æœŸè½¬æ¢æˆå­—ç¬¦&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select DATE_FORMAT(now(),&#39;%yå¹´%mæœˆ%dæ—¥&#39;) as out_put
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¡ˆä¾‹ï¼šæŸ¥è¯¢æœ‰å¥–é‡‘çš„å‘˜å·¥åå’Œå…¥èŒæ—¥æœŸ(xxæœˆ/xxæ—¥ xxå¹´)&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select last_name,DATE_FORMAT(hiredate,&#39;%mæœˆ%dæ—¥ %yå¹´&#39;) å…¥èŒæ—¥æœŸ
   from employees
   where commission_pct is not null
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-æµç¨‹æ§åˆ¶å‡½æ•°&#34;&gt;4ï¼‰æµç¨‹æ§åˆ¶å‡½æ•°&lt;/h4&gt;

&lt;ol&gt;
&lt;li&gt;ifå‡½æ•° if elseçš„æ•ˆæœ&lt;/li&gt;
&lt;/ol&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select if(10&amp;lt;5,&#39;å¤§&#39;,&#39;å°&#39;)
   select last_name,commission_pct,IF(commission_pct is null,&#39;æ²¡å¥–é‡‘ï¼Œå‘µå‘µ&#39;,&#39;æœ‰å¥–é‡‘ï¼Œå˜»å˜»&#39;);
   ç»“æœï¼š
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://upload-images.jianshu.io/upload_images/19131697-3efe4072ad166502.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;caseå‡½æ•°çš„ä½¿ç”¨&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;æ•ˆæœ1ï¼šç±»ä¼¼äºswitch case&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   case è¦åˆ¤æ–­çš„å­—æ®µæˆ–è¡¨è¾¾å¼
   when å¸¸é‡1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1
   when å¸¸é‡2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2
   ...
   else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n
   end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥çš„å·¥èµ„ï¼Œè¦æ±‚&lt;/p&gt;

&lt;p&gt;â€‹    éƒ¨é—¨å·=30ï¼Œæ˜¾ç¤ºçš„å·¥èµ„ä¸º1.1å€&lt;/p&gt;

&lt;p&gt;â€‹    éƒ¨é—¨å·=40ï¼Œæ˜¾ç¤ºçš„å·¥èµ„ä¸º1.2å€&lt;/p&gt;

&lt;p&gt;â€‹    éƒ¨é—¨å·=50ï¼Œæ˜¾ç¤ºçš„å·¥èµ„ä¸º1.3å€&lt;/p&gt;

&lt;p&gt;â€‹    å…¶ä»–éƒ¨é—¨ï¼Œæ˜¾ç¤ºçš„å·¥èµ„ä¸ºåŸå·¥èµ„&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select salary åŸå§‹å·¥èµ„,department_id,
   case department_id
   when 30 then salary*1.1
   when 40 then salary*1.2
   when 50 then salary*1.3
   else salary
   end as æ–°å·¥èµ„
   from employess
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ•ˆæœ2ï¼šç±»ä¼¼äºå¤šé‡if&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   case 
   when å¸¸é‡1 then è¦æ˜¾ç¤ºçš„å€¼1æˆ–è¯­å¥1
   when å¸¸é‡2 then è¦æ˜¾ç¤ºçš„å€¼2æˆ–è¯­å¥2
   ...
   else è¦æ˜¾ç¤ºçš„å€¼næˆ–è¯­å¥n
   end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¡ˆä¾‹ï¼šæŸ¥è¯¢å‘˜å·¥çš„å·¥èµ„æƒ…å†µ&lt;/p&gt;

&lt;p&gt;â€‹    å¦‚æœå·¥èµ„&amp;gt;20000ï¼Œæ˜¾ç¤ºAçº§åˆ«&lt;/p&gt;

&lt;p&gt;â€‹    å¦‚æœå·¥èµ„&amp;gt;15000ï¼Œæ˜¾ç¤ºBçº§åˆ«&lt;/p&gt;

&lt;p&gt;â€‹    å¦‚æœå·¥èµ„&amp;gt;10000ï¼Œæ˜¾ç¤ºCçº§åˆ«&lt;/p&gt;

&lt;p&gt;â€‹    å¦åˆ™ï¼Œæ˜¾ç¤ºDçº§åˆ«&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;   select salary,
   case 
   when salary&amp;gt;20000 then &#39;A&#39;
   when salary&amp;gt;15000 then &#39;B&#39;
   when salary&amp;gt;10000 then &#39;C&#39;
   else &#39;D&#39;
   end as å·¥èµ„çº§åˆ«
   from employess
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;äº”-åˆ†ç»„å‡½æ•°&#34;&gt;äº”ã€åˆ†ç»„å‡½æ•°&lt;/h3&gt;

&lt;p&gt;SUMã€AVGã€MAXã€MINã€COUNT&lt;/p&gt;

&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;

&lt;p&gt;â€‹   1ã€sumã€avgä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹&lt;/p&gt;

&lt;p&gt;â€‹         maxã€minã€countå¯ä»¥å¤„ç†ä»»ä½•ç±»å‹&lt;/p&gt;

&lt;p&gt;â€‹   2ã€ä»¥ä¸Šåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥nullå€¼&lt;/p&gt;

&lt;p&gt;â€‹   3ã€å¯ä»¥å’Œdistinctæ­é…å®ç°å»é‡çš„è¿ç®—&lt;/p&gt;

&lt;p&gt;â€‹   4ã€countå‡½æ•°çš„è¯¦ç»†ä»‹ç»&lt;/p&gt;

&lt;p&gt;â€‹         ä¸€èˆ¬ä½¿ç”¨count(*)ç”¨ä½œç»Ÿè®¡è¡Œæ•°&lt;/p&gt;

&lt;p&gt;â€‹   5ã€å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µè¦æ±‚æ˜¯group byåçš„å­—æ®µ&lt;/p&gt;

&lt;h4 id=&#34;1-ç®€å•ä½¿ç”¨&#34;&gt;1ï¼‰ç®€å•ä½¿ç”¨&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select SUM(salary) FROM employees;
select AVG(salary) FROM employees;
select MIN(salary) FROM employees;
select MAX(salary) FROM employees;
select COUNT(salary) FROM employees;

select SUM(salary) å’Œ,AVG(salary) å¹³å‡,MAX(salary) æœ€é«˜,MIN(salary) æœ€ä½,COUNT(salary) ä¸ªæ•° FROM employees;

select SUM(salary) å’Œ,ROUND(AVG(salary),2) å¹³å‡,MAX(salary) æœ€é«˜,MIN(salary) æœ€ä½,COUNT(salary) ä¸ªæ•° FROM employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;2-å‚æ•°æ”¯æŒå“ªäº›ç±»å‹&#34;&gt;2ï¼‰å‚æ•°æ”¯æŒå“ªäº›ç±»å‹&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select SUM(last_name),AVG(last_name) FROM emloyees;
select SUM(hiredate),AVG(hiredate) FROM emloyees;
ä¸Šè¿°ä¸¤ç§æ— æ„ä¹‰

select MAX(last_name),MIN(last_name) FROM emloyees;
select MAX(hiredate),MIN(hiredate) FROM emloyees;

select COUNT(commission_pct) FROM employees;
select COUNT(last_name) FROM employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;3-å¿½ç•¥nullå€¼&#34;&gt;3ï¼‰å¿½ç•¥nullå€¼&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select SUM(commission_pct),AVG(commission_pct) FROM emloyees;
select COUNT(commission_pct) FROM employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;4-å’Œdistinctæ­é…&#34;&gt;4ï¼‰å’Œdistinctæ­é…&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select SUM(DISTINCT salary),SUM(salary) FROM employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;5-countå‡½æ•°çš„è¯¦ç»†ä»‹ç»&#34;&gt;5ï¼‰COUNTå‡½æ•°çš„è¯¦ç»†ä»‹ç»&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select COUNT(*) FROM employees;		#ç»å¸¸ç”¨äºç»Ÿè®¡è¡Œæ•°
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ•ˆç‡ï¼š&lt;/p&gt;

&lt;p&gt;MYISAMå­˜å‚¨å¼•æ“ä¸‹ï¼ŒCOUNT(*)çš„æ•ˆç‡é«˜&lt;/p&gt;

&lt;p&gt;INNODBå­˜å‚¨å¼•æ“ä¸‹ï¼ŒCOUNT(*)å’ŒCOUNT(1)çš„æ•ˆç‡å·®ä¸å¤šï¼Œæ¯”COUNT(å­—æ®µ)è¦é«˜ä¸€äº›ï¼ˆåŸå› ï¼šå¦‚æœæ˜¯å­—æ®µéœ€è¦å…ˆåˆ¤æ–­æ˜¯å¦ä¸ºnullï¼Œä¸ä¸ºæ‰åŠ 1ï¼Œå› æ­¤æ•ˆç‡ç›¸å¯¹è¾ƒä½ï¼‰&lt;/p&gt;

&lt;h3 id=&#34;å…­-åˆ†ç»„æŸ¥è¯¢&#34;&gt;å…­ã€åˆ†ç»„æŸ¥è¯¢&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;è¯­æ³•&lt;/strong&gt;ï¼š&lt;/p&gt;

&lt;p&gt;â€‹       select åˆ†ç»„å‡½æ•°ï¼Œåˆ—ï¼ˆè¦æ±‚å‡ºç°åœ¨group byçš„åé¢ï¼‰&lt;/p&gt;

&lt;p&gt;â€‹       from è¡¨&lt;/p&gt;

&lt;p&gt;â€‹     ã€where ç­›é€‰æ¡ä»¶ã€‘&lt;/p&gt;

&lt;p&gt;â€‹       group by åˆ†ç»„çš„åˆ—è¡¨&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ã€order by å­å¥ã€‘
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;ï¼š&lt;/p&gt;

&lt;p&gt;â€‹       æŸ¥è¯¢åˆ—è¡¨å¿…é¡»ç‰¹æ®Šï¼Œè¦æ±‚æ˜¯åˆ†ç»„å‡½æ•°å’Œgroup byåå‡ºç°çš„å­—æ®µ&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç‰¹ç‚¹&lt;/strong&gt;ï¼š&lt;/p&gt;

&lt;p&gt;â€‹       1ã€åˆ†ç»„æŸ¥è¯¢ä¸­çš„ç­›é€‰æ¡ä»¶åˆ†ä¸ºä¸¤ç±»&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;æ•°æ®æº&lt;/th&gt;
&lt;th&gt;ä½ç½®&lt;/th&gt;
&lt;th&gt;å…³é”®å­—&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åˆ†ç»„å‰ç­›é€‰&lt;/td&gt;
&lt;td&gt;åŸå§‹è¡¨&lt;/td&gt;
&lt;td&gt;group byå­å¥çš„å‰é¢&lt;/td&gt;
&lt;td&gt;where&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;åˆ†ç»„åç­›é€‰&lt;/td&gt;
&lt;td&gt;åˆ†ç»„åçš„ç»“æœé›†&lt;/td&gt;
&lt;td&gt;group byå­å¥çš„åé¢&lt;/td&gt;
&lt;td&gt;having&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;â€‹       â‘ åˆ†ç»„å‡½æ•°åšæ¡ä»¶è‚¯å®šæ˜¯æ”¾åœ¨havingå­å¥&lt;/p&gt;

&lt;p&gt;â€‹       â‘¡èƒ½ç”¨åˆ†ç»„å‰ç­›é€‰çš„ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨åˆ†ç»„å‰ç­›é€‰&lt;/p&gt;

&lt;p&gt;â€‹       2ã€group byå­å¥æ”¯æŒå•ä¸ªå­—æ®µåˆ†ç»„ï¼Œå¤šä¸ªå­—æ®µåˆ†ç»„ï¼ˆå¤šä¸ªå­—æ®µä¹‹é—´ç”¨é€—å·éš”å¼€æ²¡æœ‰é¡ºåºè¦æ±‚ï¼‰ï¼Œè¡¨è¾¾å¼æˆ–å‡½æ•°ï¼ˆç”¨çš„è¾ƒå°‘ï¼‰&lt;/p&gt;

&lt;p&gt;â€‹       3ã€ä¹Ÿå¯ä»¥æ·»åŠ æ’åºï¼ˆæ’åºæ”¾åœ¨æ•´ä¸ªåˆ†ç»„æŸ¥è¯¢æœ€åï¼‰&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;å¼•å…¥ï¼šæŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„&lt;/strong&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;select AVG(salary) FROM employees;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-6&#34;&gt;æ¡ˆä¾‹1ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ¯ä¸ªå·¥ç§çš„æœ€é«˜å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select MAX(salary),job_id
  FROM employees
  GROUP BY job_id;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹2-2&#34;&gt;æ¡ˆä¾‹2ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ¯ä¸ªä½ç½®ä¸Šçš„éƒ¨é—¨ä¸ªæ•°&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select COUNT(*),location_id
  FROM departments
  GROUP BY location_id;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹3-2&#34;&gt;æ¡ˆä¾‹3ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢é‚®ç®±ä¸­åŒ…å«aå­—ç¬¦çš„ï¼Œæ¯ä¸ªéƒ¨é—¨çš„å¹³å‡å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select AVG(salary),deparment_id
  FROM employees
  WHERE email LIKE &#39;%a%&#39;
  GROUP BY deparment_id
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹4-1&#34;&gt;æ¡ˆä¾‹4ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æœ‰å¥–é‡‘çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹å‘˜å·¥çš„æœ€é«˜å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select MAX(salary),manager_id
  FROM employees
  WHERE commission_pct IS NOT NULL
  GROUP BY manager_id;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹5-1&#34;&gt;æ¡ˆä¾‹5ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å“ªä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°&amp;gt;2&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘ æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°&lt;/p&gt;

&lt;p&gt;â‘¡æ ¹æ®â‘ çš„ç»“æœè¿›è¡Œç­›é€‰ï¼ŒæŸ¥è¯¢å“ªä¸ªéƒ¨é—¨çš„å‘˜å·¥ä¸ªæ•°&amp;gt;2&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select COUNT(*),department_id
  FROM employees
  GROUP BY department_id
  HAVING COUNT(*)&amp;gt;2;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹6&#34;&gt;æ¡ˆä¾‹6ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ¯ä¸ªå·¥ç§æœ‰å¥–é‡‘çš„å‘˜å·¥çš„æœ€é«˜å·¥èµ„&amp;gt;12000çš„å·¥ç§ç¼–å·å’Œæœ€é«˜å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘ æŸ¥è¯¢æ¯ä¸ªå·¥ç§æœ‰å¥–é‡‘çš„å‘˜å·¥çš„æœ€é«˜å·¥èµ„&lt;/p&gt;

&lt;p&gt;â‘¡æ ¹æ®â‘ ç»“æœç»§ç»­ç­›é€‰ï¼Œæœ€é«˜å·¥èµ„&amp;gt;12000&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select job_id,MAX(salary)
  FROM employees
  WHERE commission_pct IS NOT NULL
  GROUP BY job_id
  HAVING MAX(salary)&amp;gt;12000;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹7&#34;&gt;æ¡ˆä¾‹7ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢é¢†å¯¼ç¼–å·&amp;gt;102çš„æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹æœ€ä½å·¥èµ„&amp;gt;5000çš„é¢†å¯¼ç¼–å·æ˜¯å“ªä¸ªï¼Œä»¥åŠå…¶æœ€ä½å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘ æŸ¥è¯¢æ¯ä¸ªé¢†å¯¼æ‰‹ä¸‹çš„å‘˜å·¥å›ºå®šæœ€ä½å·¥èµ„&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select manager_id,MIN(salary)
  FROM employees
  GROUP BY manager_id
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;â‘¡æ·»åŠ ç­›é€‰æ¡ä»¶ï¼Œç¼–å·&amp;gt;102&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select manager_id,MIN(salary)
  FROM employees
  WHERE manager_id&amp;gt;102		#manager_idåœ¨employeesè¡¨é‡Œï¼Œå› æ­¤æ”¾åœ¨group byå‰é¢
  GROUP BY manager_id
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;â‘¢æ·»åŠ ç­›é€‰æ¡ä»¶ï¼Œæœ€ä½å·¥èµ„&amp;gt;5000&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select manager_id,MIN(salary)
  FROM employees
  WHERE manager_id&amp;gt;102		#manager_idåœ¨employeesè¡¨é‡Œï¼Œå› æ­¤æ”¾åœ¨group byå‰é¢
  GROUP BY manager_id
  HAVING MIN(salary)&amp;gt;5000
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æŒ‰è¡¨è¾¾å¼æˆ–å‡½æ•°åˆ†ç»„&#34;&gt;æŒ‰è¡¨è¾¾å¼æˆ–å‡½æ•°åˆ†ç»„&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹8&#34;&gt;æ¡ˆä¾‹8ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŒ‰å‘˜å·¥å§“åçš„é•¿åº¦åˆ†ç»„ï¼ŒæŸ¥è¯¢æ¯ä¸€ç»„çš„å‘˜å·¥ä¸ªæ•°ï¼Œç­›é€‰å‘˜å·¥ä¸ªæ•°&amp;gt;5çš„æœ‰å“ªäº›&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;â‘ æŸ¥è¯¢æ¯ä¸ªé•¿åº¦çš„å‘˜å·¥ä¸ªæ•°&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select COUNT(*),LENGTH(last_name) len_name
  FROM employees
  GROUP BY LENGTH(last_name);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;â‘¡æ·»åŠ ç­›é€‰æ¡ä»¶&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select COUNT(*),LENGTH(last_name) len_name
  FROM employees
  GROUP BY LENGTH(last_name)
  HAVING COUNT(*)&amp;gt;5;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„&#34;&gt;æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹9&#34;&gt;æ¡ˆä¾‹9ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨æ¯ä¸ªå·¥ç§çš„å‘˜å·¥çš„å¹³å‡å·¥èµ„&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select AVG(salary),department_id,job_id
  FROM employees
  GROUP BY department_id,job_id;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;æ·»åŠ æ’åº&#34;&gt;æ·»åŠ æ’åº&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹10&#34;&gt;æ¡ˆä¾‹10ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢æ¯ä¸ªéƒ¨é—¨æ¯ä¸ªå·¥ç§çš„å‘˜å·¥çš„å¹³å‡å·¥èµ„ï¼Œå¹¶ä¸”æŒ‰å¹³å‡å·¥èµ„çš„é«˜ä½æ˜¾ç¤º&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select AVG(salary),department_id,job_id
  FROM employees
  GROUP BY department_id,job_id
  HAVING AVG(salary)&amp;gt;10000
  ORDER BY AVG(salary) DESC;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ä¸ƒ-è¿æ¥æŸ¥è¯¢&#34;&gt;ä¸ƒã€è¿æ¥æŸ¥è¯¢&lt;/h3&gt;

&lt;p&gt;å«ä¹‰ï¼šåˆç§°å¤šè¡¨æŸ¥è¯¢ï¼Œå½“æŸ¥è¯¢çš„å­—æ®µæ¥è‡ªäºå¤šä¸ªè¡¨æ—¶ï¼Œå°±ä¼šç”¨åˆ°è¿æ¥æŸ¥è¯¢&lt;/p&gt;

&lt;p&gt;ç¬›å¡å°”ä¹˜ç§¯ç°è±¡ï¼šè¡¨1æœ‰mè¡Œï¼Œè¡¨2æœ‰nè¡Œï¼Œç»“æœ=m*nè¡Œ&lt;/p&gt;

&lt;p&gt;å‘ç”ŸåŸå› ï¼šæ²¡æœ‰æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶&lt;/p&gt;

&lt;p&gt;å¦‚ä½•é¿å…ï¼šæ·»åŠ æœ‰æ•ˆçš„è¿æ¥æ¡ä»¶&lt;/p&gt;

&lt;p&gt;åˆ†ç±»ï¼š&lt;/p&gt;

&lt;p&gt;â€‹       å†…è¿æ¥ï¼š&lt;/p&gt;

&lt;p&gt;â€‹                   ç­‰å€¼è¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹                   éç­‰å€¼è¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹                   è‡ªè¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹       å¤–è¿æ¥ï¼š&lt;/p&gt;

&lt;p&gt;â€‹                   å·¦å¤–è¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹                   å³å¤–è¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹                   å…¨å¤–è¿æ¥&lt;/p&gt;

&lt;p&gt;â€‹       äº¤å‰è¿æ¥&lt;/p&gt;

&lt;h4 id=&#34;1-ç­‰å€¼è¿æ¥&#34;&gt;1ã€ç­‰å€¼è¿æ¥&lt;/h4&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹1-7&#34;&gt;æ¡ˆä¾‹1ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å¥³ç¥åå’Œå¯¹åº”çš„ç”·ç¥å&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select name,boyName 
  From boys,beauty
  where beauty.boyfriend_id=boys.id;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹2-3&#34;&gt;æ¡ˆä¾‹2ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥åå’Œå¯¹åº”çš„éƒ¨é—¨å&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select last_name,department_name
  FROM employees,departments
  WHERE employees.&#39;department_id&#39;=departments.&#39;department_id&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h5 id=&#34;æ¡ˆä¾‹3-3&#34;&gt;æ¡ˆä¾‹3ï¼š&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢å‘˜å·¥åã€å·¥ç§å·ã€å·¥ç§å(èµ·åˆ«å)&lt;/li&gt;
&lt;/ul&gt;

&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;  select last_name,employees.job_id,job_title
  FROM employees,jobs
  where employees.&#39;job_id&#39;=jobs.&#39;job_id&#39;;
  
  select last_name,e.job_id,job_title
  FROM employees as e,jobs as j
  where e.&#39;job_id&#39;=j.&#39;job_id&#39;;
&lt;/code&gt;&lt;/pre&gt;
</description>
      
    </item>
    
  </channel>
</rss>
